!function(){"use strict";function e(e){var t=function(){e(window.lazySizes),window.removeEventListener("lazyunveilread",t,!0)};window.lazySizes?t():window.addEventListener("lazyunveilread",t,!0)}window.lazySizes=function(){var e,t;if(function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in t=window.lazySizesConfig||window.lazysizesConfig||{},i)e in t||(t[e]=i[e])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:t,noSupport:!0};var i,n,a,o,r,s,d,l,c,u,f,m,g,v,p,y,h,z,b,w,A,L,E,C,T,_,M,N,S,R,W,x,B,k,F,q,D,H,I,O,P,$,U,J=document.documentElement,j=window.addEventListener.bind(window),G=window.requestIdleCallback,K=/^picture$/i,Q=["load","error","lazyincluded","_lazyloaded"],V=Array.prototype.forEach,X=function(e,t,i){var n=i?"addEventListener":"removeEventListener";i&&X(e,t),Q.forEach((function(i){e[n](i,t)}))},Y=function(t,i,n,a,o){var r=document.createEvent("Event");return n||(n={}),n.instance=e,r.initEvent(i,!a,!o),r.detail=n,t.dispatchEvent(r),r},Z=function(e,i){var n;!window.HTMLPictureElement&&(n=window.picturefill||t.pf)?(i&&i.src&&!e.getAttribute("srcset")&&e.setAttribute("srcset",i.src),n({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},ee=function(e,t){return(getComputedStyle(e,null)||{})[t]},te=function(e,i,n){for(n=n||e.offsetWidth;n<t.minSize&&i&&!e._lazysizesWidth;)n=i.offsetWidth,i=i.parentNode;return n},ie=(o=[],r=a=[],(d=function(e,t){i&&!t?e.apply(this,arguments):(r.push(e),n||(n=!0,(document.hidden?setTimeout:requestAnimationFrame)(s)))})._lsFlush=s=function(){var e=r;for(r=a.length?o:a,i=!0,n=!1;e.length;)e.shift()();i=!1},d),ne=function(e,t){return t?function(){ie(e)}:function(){var t=this,i=arguments;ie((function(){e.apply(t,i)}))}},ae=function(e){var t,i,n=function(){t=null,e()},a=function(){var e=Date.now()-i;e<99?setTimeout(a,99-e):(G||n)(n)};return function(){i=Date.now(),t||(t=setTimeout(a,99))}},oe=(w=/^img$/i,A=/^iframe$/i,L="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),E=0,C=0,T=-1,_=function(e){C--,(!e||C<0||!e.target)&&(C=0)},M=function(e){return null==b&&(b="hidden"==ee(document.body,"visibility")),b||!("hidden"==ee(e.parentNode,"visibility")&&"hidden"==ee(e,"visibility"))},N=function(e,t){var i,n=e,a=M(e);for(p-=t,z+=t,y-=t,h+=t;a&&(n=n.offsetParent)&&n!=document.body&&n!=J;)(a=(ee(n,"opacity")||1)>0)&&"visible"!=ee(n,"overflow")&&(i=n.getBoundingClientRect(),a=h>i.left&&y<i.right&&z>i.top-1&&p<i.bottom+1);return a},R=function(e){var i,n=0,a=t.throttleDelay,o=t.ricTimeout,r=function(){i=!1,n=Date.now(),e()},s=G&&o>49?function(){G(r,{timeout:o}),o!==t.ricTimeout&&(o=t.ricTimeout)}:ne((function(){setTimeout(r)}),!0);return function(e){var t;(e=!0===e)&&(o=33),i||(i=!0,(t=a-(Date.now()-n))<0&&(t=0),e||t<9?s():setTimeout(s,t))}}(S=function(){var i,n,a,o,r,s,d,u,m,w,A,_,S=e.elements;if((f=t.loadMode)&&C<8&&(i=S.length)){for(n=0,T++;n<i;n++)if(S[n]&&!S[n]._lazyRace)if(!L||e.prematureUnveil&&e.prematureUnveil(S[n]))q(S[n]);else if((u=S[n].getAttribute("data-expand"))&&(s=1*u)||(s=E),w||(w=!t.expand||t.expand<1?J.clientHeight>500&&J.clientWidth>500?500:370:t.expand,e._defEx=w,A=w*t.expFactor,_=t.hFac,b=null,E<A&&C<1&&T>2&&f>2&&!document.hidden?(E=A,T=0):E=f>1&&T>1&&C<6?w:0),m!==s&&(g=innerWidth+s*_,v=innerHeight+s,d=-1*s,m=s),a=S[n].getBoundingClientRect(),(z=a.bottom)>=d&&(p=a.top)<=v&&(h=a.right)>=d*_&&(y=a.left)<=g&&(z||h||y||p)&&(t.loadHidden||M(S[n]))&&(c&&C<3&&!u&&(f<3||T<4)||N(S[n],s))){if(q(S[n]),r=!0,C>9)break}else!r&&c&&!o&&C<4&&T<4&&f>2&&(l[0]||t.preloadAfterLoad)&&(l[0]||!u&&(z||h||y||p||"auto"!=S[n].getAttribute(t.sizesAttr)))&&(o=l[0]||S[n]);o&&!r&&q(o)}}),x=ne(W=function(e){var i=e.target;i._lazyCache?delete i._lazyCache:(_(e),i.classList.add(t.loadedClass),i.classList.remove(t.loadingClass),X(i,B),Y(i,"lazyloaded"))}),B=function(e){x({target:e.target})},k=function(e){var i,n=e.getAttribute(t.srcsetAttr);(i=t.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",i),n&&e.setAttribute("srcset",n)},F=ne((function(e,i,n,a,o){var r,s,d,l,c,f;(c=Y(e,"lazybeforeunveil",i)).defaultPrevented||(a&&(n?e.classList.add(t.autosizesClass):e.setAttribute("sizes",a)),s=e.getAttribute(t.srcsetAttr),r=e.getAttribute(t.srcAttr),o&&(l=(d=e.parentNode)&&K.test(d.nodeName||"")),f=i.firesLoad||"src"in e&&(s||r||l),c={target:e},e.classList.add(t.loadingClass),f&&(clearTimeout(u),u=setTimeout(_,2500),X(e,B,!0)),l&&V.call(d.getElementsByTagName("source"),k),s?e.setAttribute("srcset",s):r&&!l&&(A.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.src=t}}(e,r):e.src=r),o&&(s||l)&&Z(e,{src:r})),e._lazyRace&&delete e._lazyRace,e.classList.remove(t.lazyClass),ie((function(){var t=e.complete&&e.naturalWidth>1;f&&!t||(t&&e.classList.add("ls-is-cached"),W(c),e._lazyCache=!0,setTimeout((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&C--}),!0)})),q=function(e){if(!e._lazyRace){var i,n=w.test(e.nodeName),a=n&&(e.getAttribute(t.sizesAttr)||e.getAttribute("sizes")),o="auto"==a;(!o&&c||!n||!e.getAttribute("src")&&!e.srcset||e.complete||e.classList.contains(t.errorClass)||!e.classList.contains(t.lazyClass))&&(i=Y(e,"lazyunveilread").detail,o&&re.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,C++,F(e,i,o,a,n))}},D=ae((function(){t.loadMode=3,R()})),I=function(){c||(Date.now()-m<999?setTimeout(I,999):(c=!0,t.loadMode=3,R(),j("scroll",H,!0)))},{_:function(){m=Date.now(),e.elements=document.getElementsByClassName(t.lazyClass),l=document.getElementsByClassName(t.lazyClass+" "+t.preloadClass),j("scroll",R,!0),j("resize",R,!0),j("pageshow",(function(e){if(e.persisted){var i=document.querySelectorAll("."+t.loadingClass);i.length&&i.forEach&&requestAnimationFrame((function(){i.forEach((function(e){e.complete&&q(e)}))}))}})),window.MutationObserver&&new MutationObserver(R).observe(J,{childList:!0,subtree:!0,attributes:!0}),j("hashchange",R,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){document.addEventListener(e,R,!0)})),/d$|^c/.test(document.readyState)?I():(j("load",I),document.addEventListener("DOMContentLoaded",R),setTimeout(I,2e4)),e.elements.length?(S(),ie._lsFlush()):R()},checkElems:R,unveil:q,_aLSL:H=function(){3==t.loadMode&&(t.loadMode=2),D()}}),re=(P=ne((function(e,t,i,n){var a,o,r;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),K.test(t.nodeName||""))for(o=0,r=(a=t.getElementsByTagName("source")).length;o<r;o++)a[o].setAttribute("sizes",n);i.detail.dataAttr||Z(e,i.detail)})),$=function(e,t,i){var n,a=e.parentNode;a&&(i=te(e,a,i),(n=Y(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=n.detail.width)&&i!==e._lazysizesWidth&&P(e,a,n,i))},{_:function(){O=document.getElementsByClassName(t.autosizesClass),j("resize",U)},checkElems:U=ae((function(){var e,t=O.length;if(t)for(e=0;e<t;e++)$(O[e])})),updateElem:$}),se=function(){!se.i&&document.getElementsByClassName&&(se.i=!0,re._(),oe._())};return setTimeout((function(){t.init&&se()})),e={cfg:t,autoSizer:re,loader:oe,init:se,uP:Z,fire:Y,gW:te,rAF:ie}}(),e((function(e){var t,i,n={};function a(e,t){if(!n[e]){var i=document.createElement(t?"link":"script"),a=document.getElementsByTagName("script")[0];t?(i.rel="stylesheet",i.href=e):i.src=e,n[e]=!0,n[i.src||i.href]=!0,a.parentNode.insertBefore(i,a)}}document.addEventListener&&(i=/\(|\)|\s|'/,t=function(e,t){var i=document.createElement("img");i.onload=function(){i.onload=null,i.onerror=null,i=null,t()},i.onerror=i.onload,i.src=e,i&&i.complete&&i.onload&&i.onload()},addEventListener("lazybeforeunveil",(function(n){var o,r,s;if(n.detail.instance==e&&!n.defaultPrevented){var d=n.target;if("none"==d.preload&&(d.preload=d.getAttribute("data-preload")||"auto"),null!=d.getAttribute("data-autoplay"))if(d.getAttribute("data-expand")&&!d.autoplay)try{d.play()}catch(e){}else requestAnimationFrame((function(){d.setAttribute("data-expand","-10"),d.classList.add(e.cfg.lazyClass)}));(o=d.getAttribute("data-link"))&&a(o,!0),(o=d.getAttribute("data-script"))&&a(o),(o=d.getAttribute("data-require"))&&(e.cfg.requireJs?e.cfg.requireJs([o]):a(o)),(r=d.getAttribute("data-bg"))&&(n.detail.firesLoad=!0,t(r,(function(){d.style.backgroundImage="url("+(i.test(r)?JSON.stringify(r):r)+")",n.detail.firesLoad=!1,e.fire(d,"_lazyloaded",{},!0,!0)}))),(s=d.getAttribute("data-poster"))&&(n.detail.firesLoad=!0,t(s,(function(){d.poster=s,n.detail.firesLoad=!1,e.fire(d,"_lazyloaded",{},!0,!0)})))}}),!1))})),e((function(e){if(window.addEventListener){var t,i,n,a=Array.prototype.forEach,o=/^picture$/i,r=function(e){return window.matchMedia?(r=function(e){return!e||(matchMedia(e)||{}).matches})(e):window.Modernizr&&Modernizr.mq?!e||Modernizr.mq(e):!e},s=e.cfg;d.prototype={_setupEvents:function(){var e,t,i=this,n=function(e){e.naturalWidth<36?i.addAspectRatio(e,!0):i.removeAspectRatio(e,!0)},o=function(){i.processImages()};document.addEventListener("load",(function(e){e.target.getAttribute&&e.target.getAttribute("data-aspectratio")&&n(e.target)}),!0),addEventListener("resize",(t=function(){a.call(i.ratioElems,n)},function(){clearTimeout(e),e=setTimeout(t,99)})),document.addEventListener("DOMContentLoaded",o),addEventListener("load",o)},processImages:function(e){var t,i;e||(e=document),t="length"in e&&!e.nodeName?e:e.querySelectorAll("img[data-aspectratio]");for(i=0;i<t.length;i++)t[i].naturalWidth>36?this.removeAspectRatio(t[i]):this.addAspectRatio(t[i])},getSelectedRatio:function(e){var t,i,n,a,d,l=e.parentNode;if(l&&o.test(l.nodeName||""))for(t=0,i=(n=l.getElementsByTagName("source")).length;t<i;t++)if(a=n[t].getAttribute("data-media")||n[t].getAttribute("media"),s.customMedia[a]&&(a=s.customMedia[a]),r(a)){d=n[t].getAttribute("data-aspectratio");break}return d||e.getAttribute("data-aspectratio")||""},parseRatio:(i=/^\s*([+\d\.]+)(\s*[\/x]\s*([+\d\.]+))?\s*$/,n={},function(e){var t;return!n[e]&&(t=e.match(i))&&(t[3]?n[e]=t[1]/t[3]:n[e]=1*t[1]),n[e]}),addAspectRatio:function(e,t){var i,n=e.offsetWidth,a=e.offsetHeight;t||e.classList.add("lazyaspectratio"),n<36&&a<=0?(n||a&&window.console)&&console.log("Define width or height of image, so we can calculate the other dimension"):(i=this.getSelectedRatio(e),(i=this.parseRatio(i))&&(n?e.style.height=n/i+"px":e.style.width=a*i+"px"))},removeAspectRatio:function(e){e.classList.remove("lazyaspectratio"),e.style.height="",e.style.width="",e.removeAttribute("data-aspectratio")}},t=new d,window.imageRatio=t}function d(){this.ratioElems=document.getElementsByClassName("lazyaspectratio"),this._setupEvents(),this.processImages()}})),e((function(e){var t=!1,i=e.prematureUnveil,n=e.cfg,a={focus:1,mouseover:1,click:1,load:1,transitionend:1,animationend:1,scroll:1,resize:1};function o(){var i,o,r,s;t||(t=!0,"loading"in HTMLImageElement.prototype&&"loading"in HTMLIFrameElement.prototype&&n.nativeLoading.disableListeners&&(!0===n.nativeLoading.disableListeners&&(n.nativeLoading.setLoadingAttribute=!0),i=e.loader,o=i.checkElems,r=function(){setTimeout((function(){window.removeEventListener("scroll",i._aLSL,!0)}),1e3)},(s="object"==typeof n.nativeLoading.disableListeners?n.nativeLoading.disableListeners:a).scroll&&(window.addEventListener("load",r),r(),window.removeEventListener("scroll",o,!0)),s.resize&&window.removeEventListener("resize",o,!0),Object.keys(s).forEach((function(e){s[e]&&document.removeEventListener(e,o,!0)}))),n.nativeLoading.setLoadingAttribute&&window.addEventListener("lazybeforeunveil",(function(e){var t=e.target;"loading"in t&&!t.getAttribute("loading")&&t.setAttribute("loading","lazy")}),!0))}n.nativeLoading||(n.nativeLoading={}),!window.addEventListener||!window.MutationObserver||!1 in HTMLImageElement.prototype&&!1 in HTMLIFrameElement.prototype||(e.prematureUnveil=function(e){return t||o(),!(!("loading"in e)||!n.nativeLoading.setLoadingAttribute&&!e.getAttribute("loading")||"auto"==e.getAttribute("data-sizes")&&!e.offsetWidth)||(i?i(e):void 0)})})),window.lazySizes&&(window.lazySizes.cfg.nativeLoading.setLoadingAttribute=!0)}();
