!function(){"use strict";function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function r(e,a,o){return(r=n()?Reflect.construct:function(e,n,r){var a=[null];a.push.apply(a,n);var o=new(Function.bind.apply(e,a));return r&&t(o,r.prototype),o}).apply(null,arguments)}function a(n){var o="function"==typeof Map?new Map:void 0;return(a=function(n){if(null===n||(a=n,-1===Function.toString.call(a).indexOf("[native code]")))return n;var a;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(n))return o.get(n);o.set(n,i)}function i(){return r(n,arguments,e(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t(i,n)})(n)}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}window.lazySizes=function(){var e,t;if(function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in t=window.lazySizesConfig||window.lazysizesConfig||{},n)e in t||(t[e]=n[e])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:t,noSupport:!0};var n,r,a,o,i,s,l,c,u,d,f,m,h,v,y,p,b,g,w,A,z,L,E,C,M,T,O,R,_,S,B,x,N,D,I,P,k,j,W,F,G,H,U,q=document.documentElement,$=window.addEventListener.bind(window),Q=window.requestIdleCallback,V=/^picture$/i,J=["load","error","lazyincluded","_lazyloaded"],K=Array.prototype.forEach,X=function(e,t,n){var r=n?"addEventListener":"removeEventListener";n&&X(e,t),J.forEach((function(n){e[r](n,t)}))},Y=function(t,n,r,a,o){var i=document.createEvent("Event");return r||(r={}),r.instance=e,i.initEvent(n,!a,!o),i.detail=r,t.dispatchEvent(i),i},Z=function(e,n){var r;!window.HTMLPictureElement&&(r=window.picturefill||t.pf)?(n&&n.src&&!e.getAttribute("srcset")&&e.setAttribute("srcset",n.src),r({reevaluate:!0,elements:[e]})):n&&n.src&&(e.src=n.src)},ee=function(e,t){return(getComputedStyle(e,null)||{})[t]},te=function(e,n,r){for(r=r||e.offsetWidth;r<t.minSize&&n&&!e._lazysizesWidth;)r=n.offsetWidth,n=n.parentNode;return r},ne=(o=[],i=a=[],(l=function(e,t){n&&!t?e.apply(this,arguments):(i.push(e),r||(r=!0,(document.hidden?setTimeout:requestAnimationFrame)(s)))})._lsFlush=s=function(){var e=i;for(i=a.length?o:a,n=!0,r=!1;e.length;)e.shift()();n=!1},l),re=function(e,t){return t?function(){ne(e)}:function(){var t=this,n=arguments;ne((function(){e.apply(t,n)}))}},ae=function(e){var t,n,r=function(){t=null,e()},a=function(){var e=Date.now()-n;e<99?setTimeout(a,99-e):(Q||r)(r)};return function(){n=Date.now(),t||(t=setTimeout(a,99))}},oe=(A=/^img$/i,z=/^iframe$/i,L="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),E=0,C=0,M=-1,T=function(e){C--,(!e||C<0||!e.target)&&(C=0)},O=function(e){return null==w&&(w="hidden"==ee(document.body,"visibility")),w||!("hidden"==ee(e.parentNode,"visibility")&&"hidden"==ee(e,"visibility"))},R=function(e,t){var n,r=e,a=O(e);for(y-=t,g+=t,p-=t,b+=t;a&&(r=r.offsetParent)&&r!=document.body&&r!=q;)(a=(ee(r,"opacity")||1)>0)&&"visible"!=ee(r,"overflow")&&(n=r.getBoundingClientRect(),a=b>n.left&&p<n.right&&g>n.top-1&&y<n.bottom+1);return a},S=function(e){var n,r=0,a=t.throttleDelay,o=t.ricTimeout,i=function(){n=!1,r=Date.now(),e()},s=Q&&o>49?function(){Q(i,{timeout:o}),o!==t.ricTimeout&&(o=t.ricTimeout)}:re((function(){setTimeout(i)}),!0);return function(e){var t;(e=!0===e)&&(o=33),n||(n=!0,(t=a-(Date.now()-r))<0&&(t=0),e||t<9?s():setTimeout(s,t))}}(_=function(){var n,r,a,o,i,s,l,d,m,A,z,T,_=e.elements;if((f=t.loadMode)&&C<8&&(n=_.length)){for(r=0,M++;r<n;r++)if(_[r]&&!_[r]._lazyRace)if(!L||e.prematureUnveil&&e.prematureUnveil(_[r]))P(_[r]);else if((d=_[r].getAttribute("data-expand"))&&(s=1*d)||(s=E),A||(A=!t.expand||t.expand<1?q.clientHeight>500&&q.clientWidth>500?500:370:t.expand,e._defEx=A,z=A*t.expFactor,T=t.hFac,w=null,E<z&&C<1&&M>2&&f>2&&!document.hidden?(E=z,M=0):E=f>1&&M>1&&C<6?A:0),m!==s&&(h=innerWidth+s*T,v=innerHeight+s,l=-1*s,m=s),a=_[r].getBoundingClientRect(),(g=a.bottom)>=l&&(y=a.top)<=v&&(b=a.right)>=l*T&&(p=a.left)<=h&&(g||b||p||y)&&(t.loadHidden||O(_[r]))&&(u&&C<3&&!d&&(f<3||M<4)||R(_[r],s))){if(P(_[r]),i=!0,C>9)break}else!i&&u&&!o&&C<4&&M<4&&f>2&&(c[0]||t.preloadAfterLoad)&&(c[0]||!d&&(g||b||p||y||"auto"!=_[r].getAttribute(t.sizesAttr)))&&(o=c[0]||_[r]);o&&!i&&P(o)}}),x=re(B=function(e){var n=e.target;n._lazyCache?delete n._lazyCache:(T(e),n.classList.add(t.loadedClass),n.classList.remove(t.loadingClass),X(n,N),Y(n,"lazyloaded"))}),N=function(e){x({target:e.target})},D=function(e){var n,r=e.getAttribute(t.srcsetAttr);(n=t.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",n),r&&e.setAttribute("srcset",r)},I=re((function(e,n,r,a,o){var i,s,l,c,u,f;(u=Y(e,"lazybeforeunveil",n)).defaultPrevented||(a&&(r?e.classList.add(t.autosizesClass):e.setAttribute("sizes",a)),s=e.getAttribute(t.srcsetAttr),i=e.getAttribute(t.srcAttr),o&&(c=(l=e.parentNode)&&V.test(l.nodeName||"")),f=n.firesLoad||"src"in e&&(s||i||c),u={target:e},e.classList.add(t.loadingClass),f&&(clearTimeout(d),d=setTimeout(T,2500),X(e,N,!0)),c&&K.call(l.getElementsByTagName("source"),D),s?e.setAttribute("srcset",s):i&&!c&&(z.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}}(e,i):e.src=i),o&&(s||c)&&Z(e,{src:i})),e._lazyRace&&delete e._lazyRace,e.classList.remove(t.lazyClass),ne((function(){var t=e.complete&&e.naturalWidth>1;f&&!t||(t&&e.classList.add("ls-is-cached"),B(u),e._lazyCache=!0,setTimeout((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&C--}),!0)})),P=function(e){if(!e._lazyRace){var n,r=A.test(e.nodeName),a=r&&(e.getAttribute(t.sizesAttr)||e.getAttribute("sizes")),o="auto"==a;(!o&&u||!r||!e.getAttribute("src")&&!e.srcset||e.complete||e.classList.contains(t.errorClass)||!e.classList.contains(t.lazyClass))&&(n=Y(e,"lazyunveilread").detail,o&&ie.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,C++,I(e,n,o,a,r))}},k=ae((function(){t.loadMode=3,S()})),W=function(){u||(Date.now()-m<999?setTimeout(W,999):(u=!0,t.loadMode=3,S(),$("scroll",j,!0)))},{_:function(){m=Date.now(),e.elements=document.getElementsByClassName(t.lazyClass),c=document.getElementsByClassName(t.lazyClass+" "+t.preloadClass),$("scroll",S,!0),$("resize",S,!0),$("pageshow",(function(e){if(e.persisted){var n=document.querySelectorAll("."+t.loadingClass);n.length&&n.forEach&&requestAnimationFrame((function(){n.forEach((function(e){e.complete&&P(e)}))}))}})),window.MutationObserver&&new MutationObserver(S).observe(q,{childList:!0,subtree:!0,attributes:!0}),$("hashchange",S,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){document.addEventListener(e,S,!0)})),/d$|^c/.test(document.readyState)?W():($("load",W),document.addEventListener("DOMContentLoaded",S),setTimeout(W,2e4)),e.elements.length?(_(),ne._lsFlush()):S()},checkElems:S,unveil:P,_aLSL:j=function(){3==t.loadMode&&(t.loadMode=2),k()}}),ie=(G=re((function(e,t,n,r){var a,o,i;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),V.test(t.nodeName||""))for(o=0,i=(a=t.getElementsByTagName("source")).length;o<i;o++)a[o].setAttribute("sizes",r);n.detail.dataAttr||Z(e,n.detail)})),H=function(e,t,n){var r,a=e.parentNode;a&&(n=te(e,a,n),(r=Y(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=r.detail.width)&&n!==e._lazysizesWidth&&G(e,a,r,n))},{_:function(){F=document.getElementsByClassName(t.autosizesClass),$("resize",U)},checkElems:U=ae((function(){var e,t=F.length;if(t)for(e=0;e<t;e++)H(F[e])})),updateElem:H}),se=function(){!se.i&&document.getElementsByClassName&&(se.i=!0,ie._(),oe._())};return setTimeout((function(){t.init&&se()})),e={cfg:t,autoSizer:ie,loader:oe,init:se,uP:Z,fire:Y,gW:te,rAF:ne}}(),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.preloadAfterLoad=!0;var l=!1;try{var c={get once(){return l=!0,!1}};window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch(e){l=!1}function u(e){if("IMG"===e.nodeName&&e.classList.contains("lazyloadnative")){if(!("loading"in HTMLImageElement.prototype))return e.classList.remove("lazyloadnative"),void e.classList.add("lazyload");e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("loading","lazy"),e.complete?d(e):e.addEventListener("load",(function(){return d(e)}),!!l&&{once:!0})}}function d(e){e.classList.remove("lazyloadnative"),e.classList.add("lazyloaded")}document.addEventListener("DOMContentLoaded",(function(){if(document.querySelectorAll("img.lazyloadnative").forEach(u),"MutationObserver"in window){new MutationObserver((function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){t.value.addedNodes.forEach(u)}}catch(e){n.e(e)}finally{n.f()}})).observe(document.body,{childList:!0,subtree:!0})}}));var f=[],m=0;function h(e){for("function"==typeof e?f.push(e):m--;m<2&&"function"==typeof f[0];){m++,f.shift()()}}var v=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],y=function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t=83*t+v.indexOf(r)}return t},p={sRGBToLinear:function(e){var t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},linearTosRGB:function(e){var t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.round(12.92*t*255+.5):Math.round(255*(1.055*Math.pow(t,1/2.4)-.055)+.5)},signPow:function(e,t){return(e<0?-1:1)*Math.pow(Math.abs(e),t)}},b=function(r){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(l,r);var a,i,s=(a=l,i=n(),function(){var t,n=e(a);if(i){var r=e(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).name="ValidationError",t.message=e,t}return l}(a(Error)),g=function(e){var t=e>>16,n=e>>8&255,r=255&e;return[p.sRGBToLinear(t),p.sRGBToLinear(n),p.sRGBToLinear(r)]},w=function(e,t){var n=Math.floor(e/361),r=Math.floor(e/19)%19,a=e%19;return[p.signPow((n-9)/9,2)*t,p.signPow((r-9)/9,2)*t,p.signPow((a-9)/9,2)*t]},A=function(e,t,n,r){!function(e){if(!e||e.length<6)throw new b("The blurhash string must be at least 6 characters");var t=y(e[0]),n=Math.floor(t/9)+1,r=t%9+1;if(e.length!==4+2*r*n)throw new b("blurhash length mismatch: length is ".concat(e.length," but it should be ").concat(4+2*r*n))}(e),r|=1;for(var a=y(e[0]),o=Math.floor(a/9)+1,i=a%9+1,s=(y(e[1])+1)/166,l=new Array(i*o),c=0;c<l.length;c++)if(0===c){var u=y(e.substring(2,6));l[c]=g(u)}else{var d=y(e.substring(4+2*c,6+2*c));l[c]=w(d,s*r)}for(var f=4*t,m=new Uint8ClampedArray(f*n),h=0;h<n;h++)for(var v=0;v<t;v++){for(var A=0,z=0,L=0,E=0;E<o;E++)for(var C=0;C<i;C++){var M=Math.cos(Math.PI*v*C/t)*Math.cos(Math.PI*h*E/n),T=l[C+E*i];A+=T[0]*M,z+=T[1]*M,L+=T[2]*M}var O=p.linearTosRGB(A),R=p.linearTosRGB(z),_=p.linearTosRGB(L);m[4*v+0+h*f]=O,m[4*v+1+h*f]=R,m[4*v+2+h*f]=_,m[4*v+3+h*f]=255}return m},z=[];function L(e,t,n,r){var a=A(e,t,n),o=function(e,t){var n=z.filter((function(e){return e&&!1===e.used}))[0];return n?n.ctx.clearRect(0,0,n.element.width,n.element.height):(n={},"undefined"!=typeof window&&window.document?n.element=document.createElement("canvas"):n.element=new OffscreenCanvas(e,t),n.ctx=n.element.getContext("2d"),z.push(n)),n.element.width=e,n.element.height=t,n.imageData=n.ctx.createImageData(e,t),n.used=!0,n}(t,n);o.imageData.data.set(a),o.ctx.putImageData(o.imageData,0,0),"undefined"!=typeof HTMLCanvasElement&&o.element instanceof HTMLCanvasElement?o.element.msToBlob?r(o.element.msToBlob()):o.element.toBlob((function(e){o.used=!1,r(e)})):"undefined"!=typeof OffscreenCanvas&&o.element instanceof OffscreenCanvas&&o.element.convertToBlob().then((function(e){o.used=!1,r(e)}))}var E,C=[];function M(e){E=e}var T="Worker"in window&&"OffscreenCanvas"in window&&"convertToBlob"in OffscreenCanvas.prototype;function O(e){console.log(e),T=!1}function R(e){"IMG"===e.nodeName&&e.dataset.blurhash&&!e.classList.contains("blurhashed")&&h((function(){var t=parseInt(e.getAttribute("width"),10)||1,n=parseInt(e.getAttribute("height"),10)||1;if(t<=1||n<=1){if(!e.dataset.aspectratio)return;var r=e.dataset.aspectratio.split("/");if(t=parseInt(r[0],10),n=parseInt(r[1],10),t<=25||n<=25)return}var a,o=getComputedStyle(e.parentElement),i=o.position,s=o.display,l=getComputedStyle(e),c=l.position,u=!0;if((document.body.classList.contains("blurhash-no-fancy")||"fixed"===i||"sticky"===i||"fixed"===c||"sticky"===c||Array.prototype.slice.call(e.parentNode.children).filter((function(e){return"NOSCRIPT"!==e.nodeName})).length>1)&&(u=!1),u){var d=e.parentElement;"A"===d.nodeName&&"inline"===s&&(d=d.parentElement),d.classList.add("blurhash-container"),"absolute"!==i&&d.classList.add("blurhash-container-relative"),"absolute"!==c&&e.classList.add("blurhash-relative"),(a=e.cloneNode()).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a.classList.add("blurhashing"),a.classList.remove("blurhash-relative"),a.classList.remove("lazyload"),a.classList.remove("lazyloadnative"),a.classList.remove("lazyloading"),a.removeAttribute("srcset"),a.removeAttribute("data-srcset"),a.removeAttribute("data-src"),a.removeAttribute("itemprop"),a.removeAttribute("id"),a.alt="",a.removeAttribute("data-aspectratio"),a.removeAttribute("data-blurhash"),"loading"in a&&(a.loading="eager");var f=l.direction,m=l.top,v="ltr"===f?"left":"right";"0px"===l[v]||"auto"===l[v]?a.classList.add(v):a.style[v]=l[v],"0px"!==m&&"auto"!==m&&(a.style.top=m),e.after(a)}else e.classList.contains("lazyloadnative")&&(e.classList.remove("lazyloadnative"),e.classList.add("lazyload")),e.classList.add("blurhash"),e.classList.add("blurhashing");var y=function(t){var n=URL.createObjectURL(t);if(u){function r(){e.removeEventListener("lazyloaded",r),setTimeout((function(){URL.revokeObjectURL(n),a.parentNode.removeChild(a)}),2e3)}a.src=n,a.classList.remove("blurhashing"),a.classList.add("blurhashed"),e.addEventListener("lazyloaded",r)}else{function r(){e.removeEventListener("lazyloaded",r),setTimeout((function(){URL.revokeObjectURL(n)}),2e3)}e.src=n,e.classList.remove("blurhashing"),e.classList.add("blurhashed"),e.addEventListener("lazyloaded",r)}h()};if(!0===T){var p=function(e){var t=C.filter((function(e){return e&&!1===e.used}))[0];return t||((t={}).worker=new Worker(E),e&&t.worker.addEventListener("error",e,!1),C.push(t)),t.used=!0,t}(O);p.worker.postMessage([e.dataset.blurhash,t,n]),p.worker.onmessage=function(e){var t=e.data;y(t),p.used=!1}}else L(e.dataset.blurhash,t,n,y)}))}!function(){if(T){var e=document.currentScript;if(null===e||-1===e.getAttribute("src").indexOf("lazysizes"))return void(T=!1);var t=e.getAttribute("src").split("/");t.pop();var n=t.join("/")+"/blurhash-worker.min.js";M(n);var r=new Worker(n);r.addEventListener("error",O,!1),r.terminate()}}(),document.addEventListener("DOMContentLoaded",(function(){if(("toBlob"in HTMLCanvasElement.prototype||"msToBlob"in HTMLCanvasElement.prototype)&&(document.querySelectorAll("img[data-blurhash]").forEach(R),"MutationObserver"in window)){new MutationObserver((function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){t.value.addedNodes.forEach(R)}}catch(e){n.e(e)}finally{n.f()}})).observe(document.body,{childList:!0,subtree:!0})}}))}();
