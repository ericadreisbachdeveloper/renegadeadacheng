!function(){"use strict";window.lazySizes=function(){var t,e;if(function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in e=window.lazySizesConfig||window.lazysizesConfig||{},i)t in e||(e[t]=i[t])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var i,a,n,o,s,r,d,l,c,u,f,m,g,h,v,y,z,p,w,A,b,E,C,L,_,T,M,N,R,S,W,x,B,D,F,q,k,H,$,P,I,O,U,j=document.documentElement,G=window.addEventListener.bind(window),J=window.requestIdleCallback,K=/^picture$/i,Q=["load","error","lazyincluded","_lazyloaded"],V=Array.prototype.forEach,X=function(t,e,i){var a=i?"addEventListener":"removeEventListener";i&&X(t,e),Q.forEach((function(i){t[a](i,e)}))},Y=function(e,i,a,n,o){var s=document.createEvent("Event");return a||(a={}),a.instance=t,s.initEvent(i,!n,!o),s.detail=a,e.dispatchEvent(s),s},Z=function(t,i){var a;!window.HTMLPictureElement&&(a=window.picturefill||e.pf)?(i&&i.src&&!t.getAttribute("srcset")&&t.setAttribute("srcset",i.src),a({reevaluate:!0,elements:[t]})):i&&i.src&&(t.src=i.src)},tt=function(t,e){return(getComputedStyle(t,null)||{})[e]},et=function(t,i,a){for(a=a||t.offsetWidth;a<e.minSize&&i&&!t._lazysizesWidth;)a=i.offsetWidth,i=i.parentNode;return a},it=(o=[],s=n=[],(d=function(t,e){i&&!e?t.apply(this,arguments):(s.push(t),a||(a=!0,(document.hidden?setTimeout:requestAnimationFrame)(r)))})._lsFlush=r=function(){var t=s;for(s=n.length?o:n,i=!0,a=!1;t.length;)t.shift()();i=!1},d),at=function(t,e){return e?function(){it(t)}:function(){var e=this,i=arguments;it((function(){t.apply(e,i)}))}},nt=function(t){var e,i,a=function(){e=null,t()},n=function(){var t=Date.now()-i;t<99?setTimeout(n,99-t):(J||a)(a)};return function(){i=Date.now(),e||(e=setTimeout(n,99))}},ot=(A=/^img$/i,b=/^iframe$/i,E="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),C=0,L=0,_=-1,T=function(t){L--,(!t||L<0||!t.target)&&(L=0)},M=function(t){return null==w&&(w="hidden"==tt(document.body,"visibility")),w||!("hidden"==tt(t.parentNode,"visibility")&&"hidden"==tt(t,"visibility"))},N=function(t,e){var i,a=t,n=M(t);for(v-=e,p+=e,y-=e,z+=e;n&&(a=a.offsetParent)&&a!=document.body&&a!=j;)(n=(tt(a,"opacity")||1)>0)&&"visible"!=tt(a,"overflow")&&(i=a.getBoundingClientRect(),n=z>i.left&&y<i.right&&p>i.top-1&&v<i.bottom+1);return n},S=function(t){var i,a=0,n=e.throttleDelay,o=e.ricTimeout,s=function(){i=!1,a=Date.now(),t()},r=J&&o>49?function(){J(s,{timeout:o}),o!==e.ricTimeout&&(o=e.ricTimeout)}:at((function(){setTimeout(s)}),!0);return function(t){var e;(t=!0===t)&&(o=33),i||(i=!0,(e=n-(Date.now()-a))<0&&(e=0),t||e<9?r():setTimeout(r,e))}}(R=function(){var i,a,n,o,s,r,d,u,m,A,b,T,R=t.elements;if((f=e.loadMode)&&L<8&&(i=R.length)){for(a=0,_++;a<i;a++)if(R[a]&&!R[a]._lazyRace)if(!E||t.prematureUnveil&&t.prematureUnveil(R[a]))q(R[a]);else if((u=R[a].getAttribute("data-expand"))&&(r=1*u)||(r=C),A||(A=!e.expand||e.expand<1?j.clientHeight>500&&j.clientWidth>500?500:370:e.expand,t._defEx=A,b=A*e.expFactor,T=e.hFac,w=null,C<b&&L<1&&_>2&&f>2&&!document.hidden?(C=b,_=0):C=f>1&&_>1&&L<6?A:0),m!==r&&(g=innerWidth+r*T,h=innerHeight+r,d=-1*r,m=r),n=R[a].getBoundingClientRect(),(p=n.bottom)>=d&&(v=n.top)<=h&&(z=n.right)>=d*T&&(y=n.left)<=g&&(p||z||y||v)&&(e.loadHidden||M(R[a]))&&(c&&L<3&&!u&&(f<3||_<4)||N(R[a],r))){if(q(R[a]),s=!0,L>9)break}else!s&&c&&!o&&L<4&&_<4&&f>2&&(l[0]||e.preloadAfterLoad)&&(l[0]||!u&&(p||z||y||v||"auto"!=R[a].getAttribute(e.sizesAttr)))&&(o=l[0]||R[a]);o&&!s&&q(o)}}),x=at(W=function(t){var i=t.target;i._lazyCache?delete i._lazyCache:(T(t),i.classList.add(e.loadedClass),i.classList.remove(e.loadingClass),X(i,B),Y(i,"lazyloaded"))}),B=function(t){x({target:t.target})},D=function(t){var i,a=t.getAttribute(e.srcsetAttr);(i=e.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",i),a&&t.setAttribute("srcset",a)},F=at((function(t,i,a,n,o){var s,r,d,l,c,f;(c=Y(t,"lazybeforeunveil",i)).defaultPrevented||(n&&(a?t.classList.add(e.autosizesClass):t.setAttribute("sizes",n)),r=t.getAttribute(e.srcsetAttr),s=t.getAttribute(e.srcAttr),o&&(l=(d=t.parentNode)&&K.test(d.nodeName||"")),f=i.firesLoad||"src"in t&&(r||s||l),c={target:t},t.classList.add(e.loadingClass),f&&(clearTimeout(u),u=setTimeout(T,2500),X(t,B,!0)),l&&V.call(d.getElementsByTagName("source"),D),r?t.setAttribute("srcset",r):s&&!l&&(b.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(i){t.src=e}}(t,s):t.src=s),o&&(r||l)&&Z(t,{src:s})),t._lazyRace&&delete t._lazyRace,t.classList.remove(e.lazyClass),it((function(){var e=t.complete&&t.naturalWidth>1;f&&!e||(e&&t.classList.add("ls-is-cached"),W(c),t._lazyCache=!0,setTimeout((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&L--}),!0)})),q=function(t){if(!t._lazyRace){var i,a=A.test(t.nodeName),n=a&&(t.getAttribute(e.sizesAttr)||t.getAttribute("sizes")),o="auto"==n;(!o&&c||!a||!t.getAttribute("src")&&!t.srcset||t.complete||t.classList.contains(e.errorClass)||!t.classList.contains(e.lazyClass))&&(i=Y(t,"lazyunveilread").detail,o&&st.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,L++,F(t,i,o,n,a))}},k=nt((function(){e.loadMode=3,S()})),$=function(){c||(Date.now()-m<999?setTimeout($,999):(c=!0,e.loadMode=3,S(),G("scroll",H,!0)))},{_:function(){m=Date.now(),t.elements=document.getElementsByClassName(e.lazyClass),l=document.getElementsByClassName(e.lazyClass+" "+e.preloadClass),G("scroll",S,!0),G("resize",S,!0),G("pageshow",(function(t){if(t.persisted){var i=document.querySelectorAll("."+e.loadingClass);i.length&&i.forEach&&requestAnimationFrame((function(){i.forEach((function(t){t.complete&&q(t)}))}))}})),window.MutationObserver&&new MutationObserver(S).observe(j,{childList:!0,subtree:!0,attributes:!0}),G("hashchange",S,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){document.addEventListener(t,S,!0)})),/d$|^c/.test(document.readyState)?$():(G("load",$),document.addEventListener("DOMContentLoaded",S),setTimeout($,2e4)),t.elements.length?(R(),it._lsFlush()):S()},checkElems:S,unveil:q,_aLSL:H=function(){3==e.loadMode&&(e.loadMode=2),k()}}),st=(I=at((function(t,e,i,a){var n,o,s;if(t._lazysizesWidth=a,a+="px",t.setAttribute("sizes",a),K.test(e.nodeName||""))for(o=0,s=(n=e.getElementsByTagName("source")).length;o<s;o++)n[o].setAttribute("sizes",a);i.detail.dataAttr||Z(t,i.detail)})),O=function(t,e,i){var a,n=t.parentNode;n&&(i=et(t,n,i),(a=Y(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=a.detail.width)&&i!==t._lazysizesWidth&&I(t,n,a,i))},{_:function(){P=document.getElementsByClassName(e.autosizesClass),G("resize",U)},checkElems:U=nt((function(){var t,e=P.length;if(e)for(t=0;t<e;t++)O(P[t])})),updateElem:O}),rt=function(){!rt.i&&document.getElementsByClassName&&(rt.i=!0,st._(),ot._())};return setTimeout((function(){e.init&&rt()})),t={cfg:e,autoSizer:st,loader:ot,init:rt,uP:Z,fire:Y,gW:et,rAF:it}}(),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.preloadAfterLoad=!0,function(t){var e=function(){t(window.lazySizes),window.removeEventListener("lazyunveilread",e,!0)};window.lazySizes?e():window.addEventListener("lazyunveilread",e,!0)}((function(t){if(window.addEventListener){var e,i,a,n=Array.prototype.forEach,o=/^picture$/i,s=function(t){return window.matchMedia?(s=function(t){return!t||(matchMedia(t)||{}).matches})(t):window.Modernizr&&Modernizr.mq?!t||Modernizr.mq(t):!t},r=t.cfg;d.prototype={_setupEvents:function(){var t,e,i=this,a=function(t){t.naturalWidth<36?i.addAspectRatio(t,!0):i.removeAspectRatio(t,!0)},o=function(){i.processImages()};document.addEventListener("load",(function(t){t.target.getAttribute&&t.target.getAttribute("data-aspectratio")&&a(t.target)}),!0),addEventListener("resize",(e=function(){n.call(i.ratioElems,a)},function(){clearTimeout(t),t=setTimeout(e,99)})),document.addEventListener("DOMContentLoaded",o),addEventListener("load",o)},processImages:function(t){var e,i;t||(t=document),e="length"in t&&!t.nodeName?t:t.querySelectorAll("img[data-aspectratio]");for(i=0;i<e.length;i++)e[i].naturalWidth>36?this.removeAspectRatio(e[i]):this.addAspectRatio(e[i])},getSelectedRatio:function(t){var e,i,a,n,d,l=t.parentNode;if(l&&o.test(l.nodeName||""))for(e=0,i=(a=l.getElementsByTagName("source")).length;e<i;e++)if(n=a[e].getAttribute("data-media")||a[e].getAttribute("media"),r.customMedia[n]&&(n=r.customMedia[n]),s(n)){d=a[e].getAttribute("data-aspectratio");break}return d||t.getAttribute("data-aspectratio")||""},parseRatio:(i=/^\s*([+\d\.]+)(\s*[\/x]\s*([+\d\.]+))?\s*$/,a={},function(t){var e;return!a[t]&&(e=t.match(i))&&(e[3]?a[t]=e[1]/e[3]:a[t]=1*e[1]),a[t]}),addAspectRatio:function(t,e){var i,a=t.offsetWidth,n=t.offsetHeight;e||t.classList.add("lazyaspectratio"),a<36&&n<=0?(a||n&&window.console)&&console.log("Define width or height of image, so we can calculate the other dimension"):(i=this.getSelectedRatio(t),(i=this.parseRatio(i))&&(a?t.style.height=a/i+"px":t.style.width=n*i+"px"))},removeAspectRatio:function(t){t.classList.remove("lazyaspectratio"),t.style.height="",t.style.width="",t.removeAttribute("data-aspectratio")}},e=new d,window.imageRatio=e}function d(){this.ratioElems=document.getElementsByClassName("lazyaspectratio"),this._setupEvents(),this.processImages()}}))}();
