!function(){"use strict";window.lazySizes=function(){var t,e;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in e=window.lazySizesConfig||window.lazysizesConfig||{},n)t in e||(e[t]=n[t])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var n,i,a,o,s,r,l,c,d,u,f,m,g,z,h,y,v,p,b,A,C,w,E,_,L,T,N,M,W,S,B,D,F,x,R,k,H,P,q,$,O,U,I,j=document.documentElement,G=window.addEventListener.bind(window),J=window.requestIdleCallback,K=/^picture$/i,Q=["load","error","lazyincluded","_lazyloaded"],V=Array.prototype.forEach,X=function(t,e,n){var i=n?"addEventListener":"removeEventListener";n&&X(t,e),Q.forEach((function(n){t[i](n,e)}))},Y=function(e,n,i,a,o){var s=document.createEvent("Event");return i||(i={}),i.instance=t,s.initEvent(n,!a,!o),s.detail=i,e.dispatchEvent(s),s},Z=function(t,n){var i;!window.HTMLPictureElement&&(i=window.picturefill||e.pf)?(n&&n.src&&!t.getAttribute("srcset")&&t.setAttribute("srcset",n.src),i({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},tt=function(t,e){return(getComputedStyle(t,null)||{})[e]},et=function(t,n,i){for(i=i||t.offsetWidth;i<e.minSize&&n&&!t._lazysizesWidth;)i=n.offsetWidth,n=n.parentNode;return i},nt=(o=[],s=a=[],(l=function(t,e){n&&!e?t.apply(this,arguments):(s.push(t),i||(i=!0,(document.hidden?setTimeout:requestAnimationFrame)(r)))})._lsFlush=r=function(){var t=s;for(s=a.length?o:a,n=!0,i=!1;t.length;)t.shift()();n=!1},l),it=function(t,e){return e?function(){nt(t)}:function(){var e=this,n=arguments;nt((function(){t.apply(e,n)}))}},at=function(t){var e,n,i=function(){e=null,t()},a=function(){var t=Date.now()-n;t<99?setTimeout(a,99-t):(J||i)(i)};return function(){n=Date.now(),e||(e=setTimeout(a,99))}},ot=(A=/^img$/i,C=/^iframe$/i,w="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),E=0,_=0,L=-1,T=function(t){_--,(!t||_<0||!t.target)&&(_=0)},N=function(t){return null==b&&(b="hidden"==tt(document.body,"visibility")),b||!("hidden"==tt(t.parentNode,"visibility")&&"hidden"==tt(t,"visibility"))},M=function(t,e){var n,i=t,a=N(t);for(h-=e,p+=e,y-=e,v+=e;a&&(i=i.offsetParent)&&i!=document.body&&i!=j;)(a=(tt(i,"opacity")||1)>0)&&"visible"!=tt(i,"overflow")&&(n=i.getBoundingClientRect(),a=v>n.left&&y<n.right&&p>n.top-1&&h<n.bottom+1);return a},S=function(t){var n,i=0,a=e.throttleDelay,o=e.ricTimeout,s=function(){n=!1,i=Date.now(),t()},r=J&&o>49?function(){J(s,{timeout:o}),o!==e.ricTimeout&&(o=e.ricTimeout)}:it((function(){setTimeout(s)}),!0);return function(t){var e;(t=!0===t)&&(o=33),n||(n=!0,(e=a-(Date.now()-i))<0&&(e=0),t||e<9?r():setTimeout(r,e))}}(W=function(){var n,i,a,o,s,r,l,u,m,A,C,T,W=t.elements;if((f=e.loadMode)&&_<8&&(n=W.length)){for(i=0,L++;i<n;i++)if(W[i]&&!W[i]._lazyRace)if(!w||t.prematureUnveil&&t.prematureUnveil(W[i]))k(W[i]);else if((u=W[i].getAttribute("data-expand"))&&(r=1*u)||(r=E),A||(A=!e.expand||e.expand<1?j.clientHeight>500&&j.clientWidth>500?500:370:e.expand,t._defEx=A,C=A*e.expFactor,T=e.hFac,b=null,E<C&&_<1&&L>2&&f>2&&!document.hidden?(E=C,L=0):E=f>1&&L>1&&_<6?A:0),m!==r&&(g=innerWidth+r*T,z=innerHeight+r,l=-1*r,m=r),a=W[i].getBoundingClientRect(),(p=a.bottom)>=l&&(h=a.top)<=z&&(v=a.right)>=l*T&&(y=a.left)<=g&&(p||v||y||h)&&(e.loadHidden||N(W[i]))&&(d&&_<3&&!u&&(f<3||L<4)||M(W[i],r))){if(k(W[i]),s=!0,_>9)break}else!s&&d&&!o&&_<4&&L<4&&f>2&&(c[0]||e.preloadAfterLoad)&&(c[0]||!u&&(p||v||y||h||"auto"!=W[i].getAttribute(e.sizesAttr)))&&(o=c[0]||W[i]);o&&!s&&k(o)}}),D=it(B=function(t){var n=t.target;n._lazyCache?delete n._lazyCache:(T(t),n.classList.add(e.loadedClass),n.classList.remove(e.loadingClass),X(n,F),Y(n,"lazyloaded"))}),F=function(t){D({target:t.target})},x=function(t){var n,i=t.getAttribute(e.srcsetAttr);(n=e.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",n),i&&t.setAttribute("srcset",i)},R=it((function(t,n,i,a,o){var s,r,l,c,d,f;(d=Y(t,"lazybeforeunveil",n)).defaultPrevented||(a&&(i?t.classList.add(e.autosizesClass):t.setAttribute("sizes",a)),r=t.getAttribute(e.srcsetAttr),s=t.getAttribute(e.srcAttr),o&&(c=(l=t.parentNode)&&K.test(l.nodeName||"")),f=n.firesLoad||"src"in t&&(r||s||c),d={target:t},t.classList.add(e.loadingClass),f&&(clearTimeout(u),u=setTimeout(T,2500),X(t,F,!0)),c&&V.call(l.getElementsByTagName("source"),x),r?t.setAttribute("srcset",r):s&&!c&&(C.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}}(t,s):t.src=s),o&&(r||c)&&Z(t,{src:s})),t._lazyRace&&delete t._lazyRace,t.classList.remove(e.lazyClass),nt((function(){var e=t.complete&&t.naturalWidth>1;f&&!e||(e&&t.classList.add("ls-is-cached"),B(d),t._lazyCache=!0,setTimeout((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&_--}),!0)})),k=function(t){if(!t._lazyRace){var n,i=A.test(t.nodeName),a=i&&(t.getAttribute(e.sizesAttr)||t.getAttribute("sizes")),o="auto"==a;(!o&&d||!i||!t.getAttribute("src")&&!t.srcset||t.complete||t.classList.contains(e.errorClass)||!t.classList.contains(e.lazyClass))&&(n=Y(t,"lazyunveilread").detail,o&&st.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,_++,R(t,n,o,a,i))}},H=at((function(){e.loadMode=3,S()})),q=function(){d||(Date.now()-m<999?setTimeout(q,999):(d=!0,e.loadMode=3,S(),G("scroll",P,!0)))},{_:function(){m=Date.now(),t.elements=document.getElementsByClassName(e.lazyClass),c=document.getElementsByClassName(e.lazyClass+" "+e.preloadClass),G("scroll",S,!0),G("resize",S,!0),G("pageshow",(function(t){if(t.persisted){var n=document.querySelectorAll("."+e.loadingClass);n.length&&n.forEach&&requestAnimationFrame((function(){n.forEach((function(t){t.complete&&k(t)}))}))}})),window.MutationObserver&&new MutationObserver(S).observe(j,{childList:!0,subtree:!0,attributes:!0}),G("hashchange",S,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){document.addEventListener(t,S,!0)})),/d$|^c/.test(document.readyState)?q():(G("load",q),document.addEventListener("DOMContentLoaded",S),setTimeout(q,2e4)),t.elements.length?(W(),nt._lsFlush()):S()},checkElems:S,unveil:k,_aLSL:P=function(){3==e.loadMode&&(e.loadMode=2),H()}}),st=(O=it((function(t,e,n,i){var a,o,s;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),K.test(e.nodeName||""))for(o=0,s=(a=e.getElementsByTagName("source")).length;o<s;o++)a[o].setAttribute("sizes",i);n.detail.dataAttr||Z(t,n.detail)})),U=function(t,e,n){var i,a=t.parentNode;a&&(n=et(t,a,n),(i=Y(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&O(t,a,i,n))},{_:function(){$=document.getElementsByClassName(e.autosizesClass),G("resize",I)},checkElems:I=at((function(){var t,e=$.length;if(e)for(t=0;t<e;t++)U($[t])})),updateElem:U}),rt=function(){!rt.i&&document.getElementsByClassName&&(rt.i=!0,st._(),ot._())};return setTimeout((function(){e.init&&rt()})),t={cfg:e,autoSizer:st,loader:ot,init:rt,uP:Z,fire:Y,gW:et,rAF:nt}}()}();
